<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>表格复选的全选功能</title>
		<style type="text/css">
			table{
				width: 600px;
				border: 1 solid #007108;
				border-collapse: collapse;
				background-color: #d9ffdc;
				text-align: center;
				padding: 5px;
			}
			td{
				text-align: center;
				border: 1px solid;
			}
		</style>
	</head>
	<body>
		<table id="tb">
			<caption><h2>我的购物车</h2></caption>
			<tr style="font-weight: bold;">
			    <td><input id="all" type="checkbox" value="全选" onclick="all_check()"</td>
			    <td>商品1</td>
			    <td>价格（元）</td>
			    <td>数量</td>
			</tr>
			<tr>
				<td><input name="ic" type="checkbox" value="1" onclick="single_check()"</td>
			    <td>商品2</td>
			    <td>39</td>
			    <td>6</td>
			</tr>
			<tr>
				<td><input name="ic" type="checkbox" value="2" onclick="single_check()"</td>
			    <td>商品3</td>
			    <td>29</td>
			    <td>5</td>
			</tr>
			<tr>
				<td><input name="ic" type="checkbox" value="3" onclick="single_check()"</td>
			    <td>商品4</td>
			    <td>36</td>
			    <td>9</td>
			</tr>
			<tr>
				<td><input name="ic" type="checkbox" value="3" onclick="single_check()"</td>
			    <td>商品5</td>
			    <td>59</td>
			    <td>5</td>
			</tr>
			<tr>
				<td colspan="4" style="text-align: center;font-weight: 900; "onclick="tremove()">删除选中项</td>
			</tr>
			
		</table>
		<script>
			var oinput = document.getElementsByName("ic");
			var allcheck=document.getElementById("all");
			var tb=document.getElementById("tb");
			function all_check(){
				for(var i=0;i<oinput.length;i++){
					if(allcheck.checked==true){
						oinput[i].checked=true;
					}else{
						oinput[i].checked=false;
					}
				}
			}
			function single_check(){
				var j=0;
				for (var i=0;i<oinput.length;i++) {
					if(oinput[i].checked==true){
						j=j+1;
					}
				}
				if(j==oinput.length){//当所有的都被选中
					allcheck.checked=true;//全选按钮打勾
				}else{
					allcheck.checked=false;
				}
			}
			function tremove(){
				for(var k=0;k<oinput.length;k++){
					if(oinput[k].checked==true){
						tb.deleteRow(k+1);
						k=-1;
					}
				}
			}
		</script>
	</body>
</html>
